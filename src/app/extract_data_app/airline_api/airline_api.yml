image: airline_api
description: airline api
memorySize: 1024
timeout: 29
iamRoleStatementsInherit: true
iamRoleStatements:
  - Effect: "Allow"
    Action:
      - s3:ListBucket*
    Resource: "arn:aws:s3:::mtw-elementar-dev-018061303185/public/airline_files/*"
  - Effect: "Allow"
    Action:
      - s3:*Object
    Resource: "arn:aws:s3:::mtw-elementar-dev-018061303185/public/airline_files/*"
events:
  - httpApi:
      method: '*'
      path: '/flights/{proxy+}'
      authorizer: 
        name: CognitoAuthorizer
  - httpApi:
      method: 'OPTIONS'
      path: '/flights/{proxy+}'